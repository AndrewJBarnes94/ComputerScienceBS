<!DOCTYPE html>
<html>
<head>
    <title>Simple WebGL GUI</title>
    <style>
        #canvasContainer {
            width: 500px;
            height: 500px;
        }
        canvas {
            width: 100%;
            height: 100%;
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <div id="canvasContainer">
        <canvas id="myCanvas" width="500" height="500"></canvas>
    </div>

    <script>
        var canvas = document.getElementById('myCanvas');
        var gl = canvas.getContext('webgl');

        // Vertex shader program
        var vsSource = `
            attribute vec2 aPosition;

            void main() {
                gl_Position = vec4(aPosition, 0.0, 1.0);
            }
        `;

        // Fragment shader program
        var fsSource = `
            precision mediump float;
            uniform vec4 uColor;

            void main() {
                gl_FragColor = uColor;
            }
        `;

        // Compile shader program
        function compileShader(gl, source, type) {
            var shader = gl.createShader(type);
            gl.shaderSource(shader, source);
            gl.compileShader(shader);

            if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {
                console.error('An error occurred compiling the shaders: ' + gl.getShaderInfoLog(shader));
                gl.deleteShader(shader);
                return null;
            }

            return shader;
        }

        var vertexShader = compileShader(gl, vsSource, gl.VERTEX_SHADER);
        var fragmentShader = compileShader(gl, fsSource, gl.FRAGMENT_SHADER);

        // Link the shader program
        var shaderProgram = gl.createProgram();
        gl.attachShader(shaderProgram, vertexShader);
        gl.attachShader(shaderProgram, fragmentShader);
        gl.linkProgram(shaderProgram);

        if (!gl.getProgramParameter(shaderProgram, gl.LINK_STATUS)) {
            console.error('Unable to initialize the shader program: ' + gl.getProgramInfoLog(shaderProgram));
        }

        gl.useProgram(shaderProgram);

        // Get attribute and uniform locations
        var positionAttributeLocation = gl.getAttribLocation(shaderProgram, 'aPosition');
        var colorUniformLocation = gl.getUniformLocation(shaderProgram, 'uColor');

        // Set up buffers for shapes
        var triangleVertices = new Float32Array([
            0.0,  0.5,
           -0.5, -0.5,
            0.5, -0.5
        ]);

        var squareVertices = new Float32Array([
           -0.5,  0.5,
            0.5,  0.5,
            0.5, -0.5,
           -0.5, -0.5
        ]);

        var circleVertices = [];
        var numCircleSegments = 30;
        for (var i = 0; i < numCircleSegments; i++) {
            var angle = 2 * Math.PI * i / numCircleSegments;
            var x = Math.cos(angle);
            var y = Math.sin(angle);
            circleVertices.push(x, y);
        }

        var triangleBuffer = createBuffer(gl, triangleVertices);
        var squareBuffer = createBuffer(gl, squareVertices);
        var circleBuffer = createBuffer(gl, new Float32Array(circleVertices));

        function createBuffer(gl, vertices) {
            var buffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, buffer);
            gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);
            return buffer;
        }

        function draw(shape, color) {
            gl.clear(gl.COLOR_BUFFER_BIT);

            gl.bindBuffer(gl.ARRAY_BUFFER, shape.buffer);
            gl.enableVertexAttribArray(positionAttributeLocation);
            gl.vertexAttribPointer(positionAttributeLocation, 2, gl.FLOAT, false, 0, 0);

            gl.uniform4fv(colorUniformLocation, color);

            if (shape === circleBuffer) {
                gl.drawArrays(gl.TRIANGLE_FAN, 0, numCircleSegments);
            } else {
                gl.drawArrays(gl.TRIANGLES, 0, shape === triangleBuffer ? 3 : 4);
            }
        }

        draw({ buffer: triangleBuffer }, [1, 0, 0, 1]); // Red triangle
        draw({ buffer: squareBuffer }, [0, 1, 0, 1]); // Green square
        draw({ buffer: circleBuffer }, [0, 0, 1, 1]); // Blue circle
    </script>
</body>
</html>
